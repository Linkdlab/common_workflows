name: Combined Workflow

on: workflow_call

jobs:
  python-tests:
    if: github.ref == 'refs/heads/dev' || github.ref == 'refs/heads/test' || github.ref == 'refs/heads/main'
    uses: Linkdlab/funcnodes_module/.github/workflows/py_test.yml@main

  auto-pr:
    if: github.ref == 'refs/heads/dev'
    needs: [python-tests]
    uses: Linkdlab/funcnodes_module/.github/workflows/auto-pr-test-to-dev.yml@main


  auto-pr:
    if: github.ref == 'refs/heads/main'
    needs: [python-tests]
    uses: Linkdlab/funcnodes_module/.github/workflows/main_update_version.yml@main